(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{400:function(t,a,e){"use strict";e.r(a);var s=e(44),i=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"http-缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-缓存"}},[t._v("#")]),t._v(" http 缓存")]),t._v(" "),e("p",[e("img",{attrs:{src:"/assets/img/http/http-cache1.jpg",alt:"image"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"/assets/img/http/http-cache2.jpg",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"cache-control-响应头设置字段-强缓存-http-1-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cache-control-响应头设置字段-强缓存-http-1-1"}},[t._v("#")]),t._v(" Cache-Control 响应头设置字段 强缓存  http 1.1")]),t._v(" "),e("ul",[e("li",[t._v("no-cache，可以在本地进行缓存，但每次发请求时，都要向服务器进行验证，如果服务器允许，才能使用本地缓存。")]),t._v(" "),e("li",[t._v("no-store，本地和代理服务器都不可以存储缓存，每次都要重新请求，拿到内容。")]),t._v(" "),e("li",[t._v("max-age=  缓存多少秒后过期，过期之后浏览器才会再次发送请求。")])]),t._v(" "),e("h3",{attrs:{id:"expires-http-1-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#expires-http-1-0"}},[t._v("#")]),t._v(" Expires  http 1.0")]),t._v(" "),e("ul",[e("li",[t._v("需和Last-Modified结合使用。用于控制请求文件的有效时间，当请求数据在有效期内时客户端浏览器从缓存请求数据而不是服务器端.当缓存中数据失效或过期，才决定从服务器更新数据。")])]),t._v(" "),e("h3",{attrs:{id:"缓存验证last-modified和etag的使用-协商缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存验证last-modified和etag的使用-协商缓存"}},[t._v("#")]),t._v(" 缓存验证Last-Modified和Etag的使用  协商缓存")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Last-Modified   上次修改时间 (s)"),e("br"),t._v("\n服务器设置该响应头，客户端下次请求会携带 if-modified-since ，值和 last-Modified 值一样，服务器对比上次修改时间以验证资源是否更新。\n缺点：以秒为单位，如果资源更新频率在1s内  无法返回正确结果")])]),t._v(" "),e("li",[e("p",[t._v("Etag 数据签名，资源内容会对应有一个唯一的签名，如果资源数据更改，签名也会变。"),e("br"),t._v("\n服务器设置该响应头，客户端下次请求会携带 if-none-match ，值和 Etag 值一样，服务端对比资源的签名判断是否使用缓存")])]),t._v(" "),e("li",[e("p",[t._v("Etag 相较于Last-Modified 的优势：")]),t._v(" "),e("ul",[e("li",[t._v("某些情况下服务器无法获取资源的最后修改时间")]),t._v(" "),e("li",[t._v("资源的最后修改时间变了但是内容没变，使用ETag可以正确缓存")]),t._v(" "),e("li",[t._v("如果资源修改非常频繁，在秒以下的时间进行修改，Last-Modified只能精确到秒")])])])]),t._v(" "),e("p",[t._v("优先级:   Cache-Control>Expires>Etag>Last-modify")])])}),[],!1,null,null,null);a.default=i.exports}}]);